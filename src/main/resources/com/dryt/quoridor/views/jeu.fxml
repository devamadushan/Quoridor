<?xml version="1.0" encoding="UTF-8"?>
<?import java.lang.*?>
<?import java.util.*?>
<?import javafx.scene.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml"
            prefWidth="1400.0" prefHeight="900.0"
            fx:controller="com.dryt.quoridor.controller.ControleurJeu"
            styleClass="root">

    <!-- Boutons menu et nouvelle partie en haut à droite -->
    <top>
        <VBox spacing="10">
            <!-- Contrôles audio et informations des joueurs -->
            <HBox alignment="CENTER_LEFT" spacing="10" HBox.hgrow="ALWAYS">
                <children>
                    <Button fx:id="volumeButton" 
                            text=""
                            onAction="#onVolumeToggle"
                            styleClass="volume-button-sound">
                        <tooltip>
                            <Tooltip text="Activer/Désactiver la musique"/>
                        </tooltip>
                    </Button>
                    <Slider fx:id="volumeSlider"
                            min="0.0" max="1.0" value="0.3"
                            prefWidth="100"
                            style="-fx-background-color: transparent;">
                        <tooltip>
                            <Tooltip text="Régler le volume"/>
                        </tooltip>
                    </Slider>
                    
                    <!-- Informations des joueurs -->
                    <Label fx:id="labelMursRestants" 
                           id="labelMursRestants"
                           text="Murs restants : 10" 
                           styleClass="game-label"
                           wrapText="true"
                           textAlignment="CENTER"
                           maxWidth="Infinity"
                           HBox.hgrow="ALWAYS"/>
                </children>
            </HBox>
            
            <!-- Boutons de navigation -->
            <HBox alignment="CENTER_RIGHT" spacing="10">
                <children>
                    <Button text="" 
                            onAction="#onNouvellePartie"
                            styleClass="new-game-top-button"/>
                    <Button text="" 
                            onAction="#onOpenMenu"
                            styleClass="menu-open-button"/>
                </children>
            </HBox>
            <padding>
                <Insets top="15" bottom="15" left="30" right="30"/>
            </padding>
        </VBox>
    </top>

    <!-- Zone centrale pour le plateau de jeu -->
    <center>
        <VBox alignment="CENTER" spacing="30" VBox.vgrow="ALWAYS">
            <children>
                <!-- Conteneur du plateau avec centrage automatique -->
                <StackPane VBox.vgrow="ALWAYS">
                    <children>
                        <!-- Conteneur brun en arrière-plan (MUST BE FIRST) -->
                        <Pane fx:id="boardContainer" 
                              prefWidth="100.0" prefHeight="100.0" 
                              styleClass="board-container"
                              mouseTransparent="true"/>
                        
                        <!-- Plateau de jeu centré (MUST BE SECOND - ON TOP) -->
                        <Pane fx:id="boardPane" 
                              prefWidth="580.0" prefHeight="580.0"
                              style="-fx-background-color: transparent;" />
                    </children>
                </StackPane>
            </children>
            <padding>
                <Insets top="30" bottom="30" left="50" right="50"/>
            </padding>
        </VBox>
    </center>

</BorderPane>